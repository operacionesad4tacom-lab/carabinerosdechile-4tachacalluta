<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SICOF - Estado Operativo del Cuartel</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/mobile.css">
    <link rel="stylesheet" href="../css/tablet.css">
    <link rel="stylesheet" href="../css/desktop.css">
    <link rel="icon" href="../assets/logos/favicon.ico">
    <style>
        .estado-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .form-section {
            background: var(--blanco);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            border: 1px solid var(--verde-claro);
            box-shadow: var(--shadow-sm);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
            color: var(--verde-oscuro);
            padding-bottom: var(--spacing-sm);
            border-bottom: 2px solid var(--verde-claro);
        }
        
        .section-icon {
            font-size: 1.5rem;
        }
        
        .grid-2, .grid-3, .grid-4 {
            display: grid;
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }
        
        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }
        
        .counter-group {
            background: var(--gris-claro);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--verde-claro);
        }
        
        .counter-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gris-profesional);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .counter-input {
            width: 100%;
            padding: var(--spacing-md);
            border: 2px solid var(--gris-medio);
            border-radius: var(--border-radius-sm);
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            font-family: var(--font-primary);
            background: var(--blanco);
        }
        
        .counter-input:focus {
            outline: none;
            border-color: var(--verde-oficial);
            box-shadow: 0 0 0 3px rgba(11, 107, 58, 0.1);
        }
        
        .counter-help {
            font-size: 0.75rem;
            color: var(--gris-medio);
            margin-top: var(--spacing-xs);
        }
        
        .estado-selector {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
        }
        
        .estado-option {
            flex: 1;
            min-width: 150px;
        }
        
        .estado-radio {
            display: none;
        }
        
        .estado-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--spacing-md);
            border: 2px solid var(--gris-medio);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            background: var(--gris-claro);
            height: 100%;
        }
        
        .estado-label:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        
        .estado-radio:checked + .estado-label {
            border-color: var(--verde-oficial);
            background: var(--verde-claro);
            font-weight: 600;
        }
        
        .estado-icon {
            font-size: 2rem;
            margin-bottom: var(--spacing-sm);
        }
        
        .estado-texto {
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .estado-descripcion {
            font-size: 0.75rem;
            color: var(--gris-medio);
            margin-top: var(--spacing-xs);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            cursor: pointer;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 2px solid var(--gris-medio);
            border-radius: var(--border-radius-sm);
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            justify-content: center;
            min-width: 200px;
        }
        
        .checkbox-label:hover {
            border-color: var(--verde-oficial);
        }
        
        .checkbox-input:checked + .checkbox-label {
            border-color: var(--verde-oficial);
            background: var(--verde-claro);
            font-weight: 600;
        }
        
        .checkbox-input {
            display: none;
        }
        
        .checkbox-icon {
            font-size: 1.25rem;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--verde-oficial);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .loading-text {
            margin-top: var(--spacing-md);
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--verde-oficial);
        }
        
        .success-message {
            text-align: center;
            padding: var(--spacing-xl);
        }
        
        .success-icon {
            font-size: 4rem;
            color: var(--verde-exito);
            margin-bottom: var(--spacing-md);
            animation: bounce 1s infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .resumen-box {
            background: var(--gris-muy-claro);
            border: 2px solid var(--verde-claro);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }
        
        .resumen-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--verde-oscuro);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .resumen-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
        }
        
        .resumen-item {
            text-align: center;
            padding: var(--spacing-sm);
            background: var(--blanco);
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--gris-claro);
        }
        
        .resumen-valor {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--verde-oficial);
        }
        
        .resumen-label {
            font-size: 0.75rem;
            color: var(--gris-medio);
            margin-top: 4px;
        }
        
        .error-message {
            color: var(--rojo-alerta);
            font-size: 0.875rem;
            margin-top: 4px;
            display: none;
        }
        
        .has-error .counter-input {
            border-color: var(--rojo-alerta);
        }
        
        .has-error .counter-help {
            color: var(--rojo-alerta);
        }
    </style>
</head>
<body>
    <!-- Header Institucional -->
    <header class="header-institucional">
        <div class="header-content">
            <div class="logo-container">
                <img src="../assets/logos/escudo-carabineros.png" alt="Carabineros de Chile" class="logo-img">
                <div class="logo-text">
                    <div class="logo-title">SICOF - Sistema Integrado</div>
                    <div class="logo-subtitle">Estado Operativo del Cuartel</div>
                </div>
            </div>
            <div class="user-info" style="color: var(--blanco); text-align: right;">
                <div id="cuartelNombre" style="font-weight: 600;">Cargando...</div>
                <div style="font-size: 0.875rem; opacity: 0.9;" id="userInfo">Jefe de Cuartel</div>
            </div>
        </div>
    </header>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <div class="loading-text">Guardando estado operativo...</div>
    </div>

    <!-- Contenido Principal -->
    <main class="container" style="padding: var(--spacing-xl) 0;">
        <div class="estado-container">
            <!-- Mensajes -->
            <div id="message" class="alert" style="display: none;"></div>
            
            <!-- Mensaje de √âxito (oculto inicialmente) -->
            <div id="successMessage" class="alert alert-success" style="display: none; text-align: center;">
                <div class="success-icon">‚úÖ</div>
                <h3 style="margin-bottom: var(--spacing-sm);">ESTADO GUARDADO EXITOSAMENTE</h3>
                <p>El estado operativo del cuartel ha sido registrado en la base de datos.</p>
                <p style="font-size: 0.875rem; color: var(--gris-medio); margin-top: var(--spacing-md);">
                    Redirigiendo al inicio...
                </p>
            </div>
            
            <!-- Formulario (visible inicialmente) -->
            <form id="estadoForm" style="display: block;">
                <!-- Fecha y Cuartel -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üìÖ</span>
                        FECHA Y CUARTEL
                    </h3>
                    
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="fecha" class="form-label">
                                üìÖ FECHA DEL REPORTE
                            </label>
                            <input 
                                type="date" 
                                id="fecha" 
                                class="form-control"
                                required
                            >
                            <div class="error-message" id="fechaError"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="cuartel_codigo" class="form-label">
                                üè¢ CUARTEL
                            </label>
                            <select 
                                id="cuartel_codigo" 
                                class="form-control"
                                required
                            >
                                <option value="">Seleccionar cuartel...</option>
                            </select>
                            <div class="error-message" id="cuartelError"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Personal -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üë•</span>
                        PERSONAL
                    </h3>
                    
                    <div class="grid-2">
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üë•</span>
                                PERSONAL TOTAL
                            </div>
                            <input 
                                type="number" 
                                id="personal_total"
                                class="counter-input"
                                min="1"
                                max="999"
                                value="10"
                                required
                            >
                            <div class="counter-help">
                                Total de personal asignado al cuartel
                            </div>
                            <div class="error-message" id="personalTotalError"></div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>‚úÖ</span>
                                PERSONAL PRESENTE
                            </div>
                            <input 
                                type="number" 
                                id="personal_presente"
                                class="counter-input"
                                min="0"
                                max="999"
                                value="8"
                                required
                            >
                            <div class="counter-help">
                                Personal presente en el cuartel
                            </div>
                            <div class="error-message" id="personalPresenteError"></div>
                        </div>
                    </div>
                    
                    <div class="grid-4">
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>‚õî</span>
                                PERSONAL AUSENTE
                            </div>
                            <input 
                                type="number" 
                                id="personal_ausente"
                                class="counter-input"
                                min="0"
                                max="999"
                                value="0"
                            >
                            <div class="counter-help">
                                Ausencias no justificadas
                            </div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>ü§í</span>
                                PERSONAL ENFERMO
                            </div>
                            <input 
                                type="number" 
                                id="personal_enfermo"
                                class="counter-input"
                                min="0"
                                max="999"
                                value="0"
                            >
                            <div class="counter-help">
                                Personal en licencia m√©dica
                            </div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üìÑ</span>
                                PERSONAL CON PERMISO
                            </div>
                            <input 
                                type="number" 
                                id="personal_permiso"
                                class="counter-input"
                                min="0"
                                max="999"
                                value="1"
                            >
                            <div class="counter-help">
                                Permisos administrativos
                            </div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üè¢</span>
                                PERSONAL EN COMISI√ìN
                            </div>
                            <input 
                                type="number" 
                                id="personal_comision"
                                class="counter-input"
                                min="0"
                                max="999"
                                value="1"
                            >
                            <div class="counter-help">
                                Personal en comisi√≥n de servicio
                            </div>
                        </div>
                    </div>
                    
                    <!-- Resumen de Personal -->
                    <div class="resumen-box" id="resumenPersonal" style="display: none;">
                        <div class="resumen-title">
                            <span>üìä</span>
                            RESUMEN DE PERSONAL
                        </div>
                        <div class="resumen-grid">
                            <div class="resumen-item">
                                <div class="resumen-valor" id="personalPresentePct">80%</div>
                                <div class="resumen-label">PRESENTE</div>
                            </div>
                            <div class="resumen-item">
                                <div class="resumen-valor" id="personalOperativoPct">70%</div>
                                <div class="resumen-label">OPERATIVO</div>
                            </div>
                            <div class="resumen-item">
                                <div class="resumen-valor" id="personalNoDisponiblePct">30%</div>
                                <div class="resumen-label">NO DISPONIBLE</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Veh√≠culos -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üöó</span>
                        VEH√çCULOS
                    </h3>
                    
                    <div class="grid-2">
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üöó</span>
                                VEH√çCULOS TOTALES
                            </div>
                            <input 
                                type="number" 
                                id="vehiculos_total"
                                class="counter-input"
                                min="1"
                                max="99"
                                value="5"
                                required
                            >
                            <div class="counter-help">
                                Total de veh√≠culos asignados
                            </div>
                            <div class="error-message" id="vehiculosTotalError"></div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>‚úÖ</span>
                                VEH√çCULOS OPERATIVOS
                            </div>
                            <input 
                                type="number" 
                                id="vehiculos_operativos"
                                class="counter-input"
                                min="0"
                                max="99"
                                value="4"
                                required
                            >
                            <div class="counter-help">
                                Veh√≠culos listos para servicio
                            </div>
                            <div class="error-message" id="vehiculosOperativosError"></div>
                        </div>
                    </div>
                    
                    <div class="grid-2">
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üîß</span>
                                VEH√çCULOS EN MANTENCI√ìN
                            </div>
                            <input 
                                type="number" 
                                id="vehiculos_mantencion"
                                class="counter-input"
                                min="0"
                                max="99"
                                value="1"
                            >
                            <div class="counter-help">
                                Veh√≠culos en taller o mantenimiento
                            </div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>‚ùå</span>
                                VEH√çCULOS INOPERATIVOS
                            </div>
                            <input 
                                type="number" 
                                id="vehiculos_inoperativos"
                                class="counter-input"
                                min="0"
                                max="99"
                                value="0"
                            >
                            <div class="counter-help">
                                Veh√≠culos con fallas graves
                            </div>
                        </div>
                    </div>
                    
                    <!-- Resumen de Veh√≠culos -->
                    <div class="resumen-box" id="resumenVehiculos" style="display: none;">
                        <div class="resumen-title">
                            <span>üìä</span>
                            RESUMEN DE VEH√çCULOS
                        </div>
                        <div class="resumen-grid">
                            <div class="resumen-item">
                                <div class="resumen-valor" id="vehiculosOperativosPct">80%</div>
                                <div class="resumen-label">OPERATIVOS</div>
                            </div>
                            <div class="resumen-item">
                                <div class="resumen-valor" id="vehiculosMantencionPct">20%</div>
                                <div class="resumen-label">EN MANTENCI√ìN</div>
                            </div>
                            <div class="resumen-item">
                                <div class="resumen-valor" id="vehiculosInoperativosPct">0%</div>
                                <div class="resumen-label">INOPERATIVOS</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Armamento y Equipamiento -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üî´</span>
                        ARMAMENTO Y EQUIPAMIENTO
                    </h3>
                    
                    <div class="grid-3">
                        <div class="form-group">
                            <label for="armamento_estado" class="form-label">
                                üî´ ESTADO ARMAMENTO
                            </label>
                            <select id="armamento_estado" class="form-control" required>
                                <option value="">Seleccionar estado...</option>
                                <option value="optimo" selected>√ìptimo</option>
                                <option value="regular">Regular</option>
                                <option value="deficiente">Deficiente</option>
                                <option value="critico">Cr√≠tico</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="equipamiento_estado" class="form-label">
                                üõ°Ô∏è ESTADO EQUIPAMIENTO
                            </label>
                            <select id="equipamiento_estado" class="form-control" required>
                                <option value="">Seleccionar estado...</option>
                                <option value="optimo" selected>√ìptimo</option>
                                <option value="regular">Regular</option>
                                <option value="deficiente">Deficiente</option>
                                <option value="critico">Cr√≠tico</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="municion_disponible" class="form-label">
                                üí• MUNICI√ìN DISPONIBLE
                            </label>
                            <select id="municion_disponible" class="form-control" required>
                                <option value="">Seleccionar nivel...</option>
                                <option value="suficiente" selected>Suficiente (+80%)</option>
                                <option value="limitado">Limitado (30-80%)</option>
                                <option value="critico">Cr√≠tico (-30%)</option>
                                <option value="agotado">Agotado</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Comunicaciones -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üìª</span>
                        COMUNICACIONES
                    </h3>
                    
                    <div class="grid-2">
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üìª</span>
                                RADIOS OPERATIVAS
                            </div>
                            <input 
                                type="number" 
                                id="radios_operativas"
                                class="counter-input"
                                min="0"
                                max="99"
                                value="8"
                                required
                            >
                            <div class="counter-help">
                                Radios funcionando correctamente
                            </div>
                        </div>
                        
                        <div class="counter-group">
                            <div class="counter-title">
                                <span>üìª</span>
                                RADIOS TOTALES
                            </div>
                            <input 
                                type="number" 
                                id="radios_total"
                                class="counter-input"
                                min="0"
                                max="99"
                                value="10"
                                required
                            >
                            <div class="counter-help">
                                Total de radios asignadas
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="comunicacion_estado" class="form-label">
                            üì° ESTADO COMUNICACIONES
                        </label>
                        <select id="comunicacion_estado" class="form-control" required>
                            <option value="">Seleccionar estado...</option>
                            <option value="optimo" selected>√ìptimo</option>
                            <option value="regular">Regular</option>
                            <option value="deficiente">Deficiente</option>
                            <option value="intermitente">Intermitente</option>
                            <option value="inoperativo">Inoperativo</option>
                        </select>
                    </div>
                </div>
                
                <!-- Infraestructura -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üè¢</span>
                        INFRAESTRUCTURA
                    </h3>
                    
                    <div class="form-group">
                        <label for="infraestructura_estado" class="form-label">
                            üè¢ ESTADO INFRAESTRUCTURA
                        </label>
                        <select id="infraestructura_estado" class="form-control" required>
                            <option value="">Seleccionar estado...</option>
                            <option value="optimo" selected>√ìptimo</option>
                            <option value="regular">Regular</option>
                            <option value="deficiente">Deficiente</option>
                            <option value="critico">Cr√≠tico</option>
                        </select>
                    </div>
                    
                    <div class="checkbox-group">
                        <input 
                            type="radio" 
                            id="agua_si" 
                            name="agua_disponible" 
                            value="true"
                            class="checkbox-input"
                            checked
                        >
                        <label for="agua_si" class="checkbox-label">
                            <span class="checkbox-icon">üíß</span>
                            AGUA DISPONIBLE
                        </label>
                        
                        <input 
                            type="radio" 
                            id="agua_no" 
                            name="agua_disponible" 
                            value="false"
                            class="checkbox-input"
                        >
                        <label for="agua_no" class="checkbox-label">
                            <span class="checkbox-icon">üö±</span>
                            SIN AGUA
                        </label>
                        
                        <input 
                            type="radio" 
                            id="electricidad_si" 
                            name="electricidad_disponible" 
                            value="true"
                            class="checkbox-input"
                            checked
                        >
                        <label for="electricidad_si" class="checkbox-label">
                            <span class="checkbox-icon">üí°</span>
                            ELECTRICIDAD DISPONIBLE
                        </label>
                        
                        <input 
                            type="radio" 
                            id="electricidad_no" 
                            name="electricidad_disponible" 
                            value="false"
                            class="checkbox-input"
                        >
                        <label for="electricidad_no" class="checkbox-label">
                            <span class="checkbox-icon">‚ö°</span>
                            SIN ELECTRICIDAD
                        </label>
                    </div>
                    
                    <div class="checkbox-group">
                        <input 
                            type="radio" 
                            id="calefaccion_si" 
                            name="calefaccion_funcionando" 
                            value="true"
                            class="checkbox-input"
                            checked
                        >
                        <label for="calefaccion_si" class="checkbox-label">
                            <span class="checkbox-icon">üî•</span>
                            CALEFACCI√ìN FUNCIONANDO
                        </label>
                        
                        <input 
                            type="radio" 
                            id="calefaccion_no" 
                            name="calefaccion_funcionando" 
                            value="false"
                            class="checkbox-input"
                        >
                        <label for="calefaccion_no" class="checkbox-label">
                            <span class="checkbox-icon">‚ùÑÔ∏è</span>
                            SIN CALEFACCI√ìN
                        </label>
                    </div>
                </div>
                
                <!-- Combustible y Suministros -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">‚õΩ</span>
                        COMBUSTIBLE Y SUMINISTROS
                    </h3>
                    
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="combustible_litros" class="form-label">
                                ‚õΩ COMBUSTIBLE (LITROS)
                            </label>
                            <input 
                                type="number" 
                                id="combustible_litros"
                                class="form-control"
                                step="0.01"
                                min="0"
                                max="9999"
                                value="500.00"
                                required
                            >
                            <div class="counter-help">
                                Litros de combustible disponibles
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="combustible_estado" class="form-label">
                                üìä ESTADO COMBUSTIBLE
                            </label>
                            <select id="combustible_estado" class="form-control" required>
                                <option value="">Seleccionar estado...</option>
                                <option value="suficiente" selected>Suficiente (+75%)</option>
                                <option value="limitado">Limitado (25-75%)</option>
                                <option value="critico">Cr√≠tico (-25%)</option>
                                <option value="agotado">Agotado</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="viveres_estado" class="form-label">
                            üçû ESTADO V√çVERES
                        </label>
                        <select id="viveres_estado" class="form-control" required>
                            <option value="">Seleccionar estado...</option>
                            <option value="suficiente" selected>Suficiente (+3 d√≠as)</option>
                            <option value="limitado">Limitado (1-3 d√≠as)</option>
                            <option value="critico">Cr√≠tico (-1 d√≠a)</option>
                            <option value="agotado">Agotado</option>
                        </select>
                    </div>
                </div>
                
                <!-- Estado General -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üìä</span>
                        ESTADO GENERAL DEL CUARTEL
                    </h3>
                    
                    <div class="form-group">
                        <label for="estado_operativo_general" class="form-label">
                            üéØ ESTADO OPERATIVO GENERAL
                        </label>
                        <select id="estado_operativo_general" class="form-control" required>
                            <option value="">Seleccionar estado...</option>
                            <option value="optimo" selected>√ìptimo</option>
                            <option value="operativo">Operativo</option>
                            <option value="limitado">Limitado</option>
                            <option value="critico">Cr√≠tico</option>
                        </select>
                    </div>
                    
                    <div class="checkbox-group">
                        <input 
                            type="radio" 
                            id="urgente_si" 
                            name="requiere_atencion_urgente" 
                            value="true"
                            class="checkbox-input"
                        >
                        <label for="urgente_si" class="checkbox-label">
                            <span class="checkbox-icon">üö®</span>
                            REQUIERE ATENCI√ìN URGENTE
                        </label>
                        
                        <input 
                            type="radio" 
                            id="urgente_no" 
                            name="requiere_atencion_urgente" 
                            value="false"
                            class="checkbox-input"
                            checked
                        >
                        <label for="urgente_no" class="checkbox-label">
                            <span class="checkbox-icon">‚úÖ</span>
                            NO REQUIERE ATENCI√ìN URGENTE
                        </label>
                    </div>
                </div>
                
                <!-- Novedades y Observaciones -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üìù</span>
                        NOVEDADES Y OBSERVACIONES
                    </h3>
                    
                    <div class="form-group">
                        <label for="novedades_importantes" class="form-label">
                            ‚ö†Ô∏è NOVEDADES IMPORTANTES
                        </label>
                        <textarea 
                            id="novedades_importantes" 
                            class="form-control"
                            rows="3"
                            placeholder="Describa novedades importantes ocurridas..."
                            maxlength="1000"
                        ></textarea>
                        <div class="counter-help">
                            M√°ximo 1000 caracteres
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="problemas_reportados" class="form-label">
                            üîß PROBLEMAS REPORTADOS
                        </label>
                        <textarea 
                            id="problemas_reportados" 
                            class="form-control"
                            rows="3"
                            placeholder="Describa problemas t√©cnicos o de infraestructura..."
                            maxlength="1000"
                        ></textarea>
                        <div class="counter-help">
                            M√°ximo 1000 caracteres
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="solicitudes_urgentes" class="form-label">
                            üìã SOLICITUDES URGENTES
                        </label>
                        <textarea 
                            id="solicitudes_urgentes" 
                            class="form-control"
                            rows="3"
                            placeholder="Liste solicitudes urgentes de equipamiento o apoyo..."
                            maxlength="1000"
                        ></textarea>
                        <div class="counter-help">
                            M√°ximo 1000 caracteres
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="observaciones" class="form-label">
                            üìù OBSERVACIONES GENERALES
                        </label>
                        <textarea 
                            id="observaciones" 
                            class="form-control"
                            rows="4"
                            placeholder="Observaciones adicionales..."
                            maxlength="2000"
                        ></textarea>
                        <div class="counter-help">
                            M√°ximo 2000 caracteres
                        </div>
                    </div>
                </div>
                
                <!-- Informaci√≥n del Jefe -->
                <div class="form-section">
                    <h3 class="section-title">
                        <span class="section-icon">üë§</span>
                        RESPONSABLE DEL REPORTE
                    </h3>
                    
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="jefe_nombre" class="form-label">
                                üë§ NOMBRE DEL JEFE
                            </label>
                            <input 
                                type="text" 
                                id="jefe_nombre" 
                                class="form-control"
                                placeholder="Ej: Mayor Carlos Rojas"
                                required
                            >
                            <div class="error-message" id="jefeNombreError"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="jefe_email" class="form-label">
                                üìß EMAIL DEL JEFE
                            </label>
                            <input 
                                type="email" 
                                id="jefe_email" 
                                class="form-control"
                                placeholder="Ej: jefe.cuartel@carabineros.cl"
                                required
                            >
                            <div class="error-message" id="jefeEmailError"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Resumen Final y Botones -->
                <div style="margin-top: var(--spacing-xl); padding: var(--spacing-xl); background: var(--gris-muy-claro); border-radius: var(--border-radius-md); border: 2px solid var(--verde-claro);">
                    <h3 style="color: var(--verde-oscuro); margin-bottom: var(--spacing-lg); display: flex; align-items: center; gap: var(--spacing-sm);">
                        <span>üìã</span>
                        RESUMEN DEL REPORTE
                    </h3>
                    
                    <div class="grid-3">
                        <div class="resumen-item">
                            <div class="resumen-valor" id="resumenPersonalPct">80%</div>
                            <div class="resumen-label">PERSONAL DISPONIBLE</div>
                        </div>
                        <div class="resumen-item">
                            <div class="resumen-valor" id="resumenVehiculosPct">80%</div>
                            <div class="resumen-label">VEH√çCULOS OPERATIVOS</div>
                        </div>
                        <div class="resumen-item">
                            <div class="resumen-valor" id="resumenEstado">√ìPTIMO</div>
                            <div class="resumen-label">ESTADO GENERAL</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: var(--spacing-xl);">
                        <button type="button" class="btn btn-outline" onclick="window.location.href='../index.html'">
                            üö™ Salir
                        </button>
                        
                        <button type="submit" class="btn btn-primary" id="btnGuardar" style="min-width: 250px;">
                            ‚úÖ GUARDAR ESTADO DEL CUARTEL
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/config.js"></script>
    <script>
        // Variables globales
        let userData = {};
        let cuartelesDisponibles = [];
        
        // Funci√≥n para mostrar mensajes
        function mostrarMensaje(texto, tipo = 'info') {
            const messageEl = document.getElementById('message');
            messageEl.innerHTML = texto;
            messageEl.className = `alert alert-${tipo}`;
            messageEl.style.display = 'block';
            
            // Scroll to message
            messageEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 5000);
        }
        
        // Funci√≥n para mostrar error en campo
        function mostrarErrorCampo(campoId, mensaje) {
            const campo = document.getElementById(campoId);
            const errorEl = document.getElementById(campoId + 'Error');
            
            if (errorEl) {
                errorEl.textContent = mensaje;
                errorEl.style.display = 'block';
                campo.parentElement.classList.add('has-error');
            }
        }
        
        // Funci√≥n para limpiar errores
        function limpiarErrores() {
            document.querySelectorAll('.error-message').forEach(el => {
                el.style.display = 'none';
            });
            document.querySelectorAll('.has-error').forEach(el => {
                el.classList.remove('has-error');
            });
        }
        
        // Funci√≥n para calcular porcentajes
        function calcularPorcentajes() {
            try {
                // Personal
                const total = parseInt(document.getElementById('personal_total').value) || 1;
                const presente = parseInt(document.getElementById('personal_presente').value) || 0;
                const ausente = parseInt(document.getElementById('personal_ausente').value) || 0;
                const enfermo = parseInt(document.getElementById('personal_enfermo').value) || 0;
                const permiso = parseInt(document.getElementById('personal_permiso').value) || 0;
                const comision = parseInt(document.getElementById('personal_comision').value) || 0;
                
                const presentePct = Math.round((presente / total) * 100);
                const operativoPct = Math.round(((presente - enfermo) / total) * 100);
                const noDisponiblePct = Math.round(((ausente + enfermo + permiso + comision) / total) * 100);
                
                // Veh√≠culos
                const vehiculosTotal = parseInt(document.getElementById('vehiculos_total').value) || 1;
                const vehiculosOperativos = parseInt(document.getElementById('vehiculos_operativos').value) || 0;
                const vehiculosMantencion = parseInt(document.getElementById('vehiculos_mantencion').value) || 0;
                const vehiculosInoperativos = parseInt(document.getElementById('vehiculos_inoperativos').value) || 0;
                
                const vehiculosOperativosPct = Math.round((vehiculosOperativos / vehiculosTotal) * 100);
                const vehiculosMantencionPct = Math.round((vehiculosMantencion / vehiculosTotal) * 100);
                const vehiculosInoperativosPct = Math.round((vehiculosInoperativos / vehiculosTotal) * 100);
                
                // Actualizar resumen personal
                document.getElementById('personalPresentePct').textContent = `${presentePct}%`;
                document.getElementById('personalOperativoPct').textContent = `${operativoPct}%`;
                document.getElementById('personalNoDisponiblePct').textContent = `${noDisponiblePct}%`;
                document.getElementById('resumenPersonalPct').textContent = `${presentePct}%`;
                
                // Mostrar/ocultar resumen personal
                const resumenPersonal = document.getElementById('resumenPersonal');
                if (total > 0) {
                    resumenPersonal.style.display = 'block';
                }
                
                // Actualizar resumen veh√≠culos
                document.getElementById('vehiculosOperativosPct').textContent = `${vehiculosOperativosPct}%`;
                document.getElementById('vehiculosMantencionPct').textContent = `${vehiculosMantencionPct}%`;
                document.getElementById('vehiculosInoperativosPct').textContent = `${vehiculosInoperativosPct}%`;
                document.getElementById('resumenVehiculosPct').textContent = `${vehiculosOperativosPct}%`;
                
                // Mostrar/ocultar resumen veh√≠culos
                const resumenVehiculos = document.getElementById('resumenVehiculos');
                if (vehiculosTotal > 0) {
                    resumenVehiculos.style.display = 'block';
                }
                
                // Estado general (basado en porcentajes m√°s bajos)
                const porcentajeMinimo = Math.min(presentePct, vehiculosOperativosPct);
                let estadoGeneral = '√ìPTIMO';
                
                if (porcentajeMinimo >= 80) estadoGeneral = '√ìPTIMO';
                else if (porcentajeMinimo >= 60) estadoGeneral = 'OPERATIVO';
                else if (porcentajeMinimo >= 40) estadoGeneral = 'LIMITADO';
                else estadoGeneral = 'CR√çTICO';
                
                document.getElementById('resumenEstado').textContent = estadoGeneral;
                document.getElementById('estado_operativo_general').value = estadoGeneral.toLowerCase();
                
            } catch (error) {
                console.error('Error calculando porcentajes:', error);
            }
        }
        
        // Funci√≥n para validar datos
        function validarDatos() {
            let esValido = true;
            limpiarErrores();
            
            // Validar fecha
            const fecha = document.getElementById('fecha').value;
            if (!fecha) {
                mostrarErrorCampo('fecha', 'La fecha es requerida');
                esValido = false;
            }
            
            // Validar cuartel
            const cuartel = document.getElementById('cuartel_codigo').value;
            if (!cuartel) {
                mostrarErrorCampo('cuartel_codigo', 'Debe seleccionar un cuartel');
                esValido = false;
            }
            
            // Validar personal total vs presente
            const total = parseInt(document.getElementById('personal_total').value) || 0;
            const presente = parseInt(document.getElementById('personal_presente').value) || 0;
            
            if (total <= 0) {
                mostrarErrorCampo('personal_total', 'El personal total debe ser mayor a 0');
                esValido = false;
            }
            
            if (presente > total) {
                mostrarErrorCampo('personal_presente', 'El personal presente no puede ser mayor al total');
                esValido = false;
            }
            
            // Validar veh√≠culos total vs operativos
            const vehiculosTotal = parseInt(document.getElementById('vehiculos_total').value) || 0;
            const vehiculosOperativos = parseInt(document.getElementById('vehiculos_operativos').value) || 0;
            
            if (vehiculosTotal <= 0) {
                mostrarErrorCampo('vehiculos_total', 'Los veh√≠culos totales deben ser mayor a 0');
                esValido = false;
            }
            
            if (vehiculosOperativos > vehiculosTotal) {
                mostrarErrorCampo('vehiculos_operativos', 'Los veh√≠culos operativos no pueden ser m√°s que los totales');
                esValido = false;
            }
            
            // Validar jefe
            const jefeNombre = document.getElementById('jefe_nombre').value.trim();
            if (!jefeNombre) {
                mostrarErrorCampo('jefe_nombre', 'El nombre del jefe es requerido');
                esValido = false;
            }
            
            const jefeEmail = document.getElementById('jefe_email').value.trim();
            if (!jefeEmail) {
                mostrarErrorCampo('jefe_email', 'El email del jefe es requerido');
                esValido = false;
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(jefeEmail)) {
                mostrarErrorCampo('jefe_email', 'Ingrese un email v√°lido');
                esValido = false;
            }
            
            return esValido;
        }
        
        // Cargar cuarteles disponibles
        async function cargarCuarteles() {
            try {
                const select = document.getElementById('cuartel_codigo');
                select.innerHTML = '<option value="">Seleccionar cuartel...</option>';
                
                // Intentar obtener cuarteles de Supabase
                const cuarteles = await obtenerCuarteles();
                cuartelesDisponibles = cuarteles;
                
                // Agregar opciones
                cuarteles.forEach(cuartel => {
                    const option = document.createElement('option');
                    option.value = cuartel.codigo;
                    option.textContent = cuartel.nombre;
                    select.appendChild(option);
                });
                
                // Si el usuario tiene cuartel asignado, seleccionarlo
                if (userData.cuartel_codigo) {
                    const cuartelUsuario = cuarteles.find(c => c.codigo === userData.cuartel_codigo);
                    if (cuartelUsuario) {
                        select.value = userData.cuartel_codigo;
                        document.getElementById('cuartelNombre').textContent = cuartelUsuario.nombre;
                        select.disabled = true;
                    }
                }
                
            } catch (error) {
                console.error('Error cargando cuarteles:', error);
                mostrarMensaje('‚ö†Ô∏è Error al cargar cuarteles. Usando lista local.', 'warning');
                
                // Usar lista local como fallback
                const cuarteles = window.SICOF_CONFIG.cuarteles;
                const select = document.getElementById('cuartel_codigo');
                
                cuarteles.forEach(cuartel => {
                    const option = document.createElement('option');
                    option.value = cuartel.codigo;
                    option.textContent = cuartel.nombre;
                    select.appendChild(option);
                });
            }
        }
        
        // Inicializar aplicaci√≥n
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üöÄ Iniciando estado-operativo.html');
            
            try {
                // Verificar autenticaci√≥n
                userData = await protegerPagina('jefe');
                if (!userData) return;
                
                console.log('‚úÖ Usuario autenticado:', userData);
                
                // Mostrar informaci√≥n del usuario
                document.getElementById('userInfo').textContent = `${userData.rol.toUpperCase()} - ${userData.email}`;
                
                // Cargar cuarteles
                await cargarCuarteles();
                
                // Establecer valores por defecto
                establecerValoresPorDefecto();
                
                // Configurar eventos
                configurarEventos();
                
                console.log('‚úÖ Aplicaci√≥n inicializada correctamente');
                
            } catch (error) {
                console.error('‚ùå Error inicializando aplicaci√≥n:', error);
                mostrarMensaje(`Error inicializando: ${error.message}`, 'danger');
            }
        });
        
        function establecerValoresPorDefecto() {
            // Fecha actual
            const hoy = new Date().toISOString().split('T')[0];
            document.getElementById('fecha').value = hoy;
            
            // Email del jefe (usuario actual)
            document.getElementById('jefe_email').value = userData.email;
            
            // Nombre del jefe (extra√≠do del email o localStorage)
            const nombreUsuario = userData.nombre || userData.email.split('@')[0];
            document.getElementById('jefe_nombre').value = nombreUsuario.toUpperCase();
            
            // Calcular porcentajes iniciales
            calcularPorcentajes();
        }
        
        function configurarEventos() {
            // Calcular porcentajes en tiempo real
            const camposCalculo = [
                'personal_total', 'personal_presente', 'personal_ausente', 
                'personal_enfermo', 'personal_permiso', 'personal_comision',
                'vehiculos_total', 'vehiculos_operativos', 'vehiculos_mantencion',
                'vehiculos_inoperativos'
            ];
            
            camposCalculo.forEach(id => {
                document.getElementById(id).addEventListener('input', calcularPorcentajes);
            });
            
            // Validar n√∫meros positivos
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('change', function() {
                    const value = parseInt(this.value);
                    if (isNaN(value) || value < 0) {
                        this.value = 0;
                    }
                });
            });
            
            // Validar que presente <= total (personal)
            document.getElementById('personal_presente').addEventListener('input', function() {
                const total = parseInt(document.getElementById('personal_total').value) || 0;
                const presente = parseInt(this.value) || 0;
                
                if (presente > total) {
                    mostrarErrorCampo('personal_presente', 'No puede haber m√°s presente que total');
                    this.value = total;
                } else {
                    const errorEl = document.getElementById('personal_presenteError');
                    if (errorEl) errorEl.style.display = 'none';
                }
            });
            
            // Validar que operativos <= total (veh√≠culos)
            document.getElementById('vehiculos_operativos').addEventListener('input', function() {
                const total = parseInt(document.getElementById('vehiculos_total').value) || 0;
                const operativos = parseInt(this.value) || 0;
                
                if (operativos > total) {
                    mostrarErrorCampo('vehiculos_operativos', 'No puede haber m√°s operativos que total');
                    this.value = total;
                } else {
                    const errorEl = document.getElementById('vehiculos_operativosError');
                    if (errorEl) errorEl.style.display = 'none';
                }
            });
            
            // Manejar env√≠o del formulario
            document.getElementById('estadoForm').addEventListener('submit', guardarEstado);
        }
        
        async function guardarEstado(e) {
            e.preventDefault();
            
            console.log('üìù Iniciando guardado de estado...');
            
            // Validar datos
            if (!validarDatos()) {
                mostrarMensaje('‚ùå Por favor corrija los errores en el formulario', 'danger');
                return;
            }
            
            // Confirmaci√≥n
            const confirmacion = confirm(`¬øEST√Å SEGURO DE GUARDAR EL ESTADO OPERATIVO?\n\n‚úÖ Se guardar√° permanentemente en la base de datos\n‚úÖ No podr√° modificar despu√©s de confirmar\n‚úÖ Se generar√° un reporte oficial`);
            
            if (!confirmacion) return;
            
            // Mostrar loading
            document.getElementById('loadingOverlay').style.display = 'flex';
            document.getElementById('btnGuardar').disabled = true;
            
            try {
                // Preparar datos para tabla estado_cuarteles
                const formData = {
                    // Identificaci√≥n
                    cuartel_codigo: document.getElementById('cuartel_codigo').value,
                    fecha: document.getElementById('fecha').value,
                    
                    // Personal
                    personal_total: parseInt(document.getElementById('personal_total').value) || 0,
                    personal_presente: parseInt(document.getElementById('personal_presente').value) || 0,
                    personal_ausente: parseInt(document.getElementById('personal_ausente').value) || 0,
                    personal_enfermo: parseInt(document.getElementById('personal_enfermo').value) || 0,
                    personal_permiso: parseInt(document.getElementById('personal_permiso').value) || 0,
                    personal_comision: parseInt(document.getElementById('personal_comision').value) || 0,
                    
                    // Veh√≠culos
                    vehiculos_total: parseInt(document.getElementById('vehiculos_total').value) || 0,
                    vehiculos_operativos: parseInt(document.getElementById('vehiculos_operativos').value) || 0,
                    vehiculos_mantencion: parseInt(document.getElementById('vehiculos_mantencion').value) || 0,
                    vehiculos_inoperativos: parseInt(document.getElementById('vehiculos_inoperativos').value) || 0,
                    
                    // Armamento y equipamiento
                    armamento_estado: document.getElementById('armamento_estado').value,
                    equipamiento_estado: document.getElementById('equipamiento_estado').value,
                    municion_disponible: document.getElementById('municion_disponible').value,
                    
                    // Comunicaciones
                    radios_operativas: parseInt(document.getElementById('radios_operativas').value) || 0,
                    radios_total: parseInt(document.getElementById('radios_total').value) || 0,
                    comunicacion_estado: document.getElementById('comunicacion_estado').value,
                    
                    // Infraestructura
                    infraestructura_estado: document.getElementById('infraestructura_estado').value,
                    agua_disponible: document.querySelector('input[name="agua_disponible"]:checked').value === 'true',
                    electricidad_disponible: document.querySelector('input[name="electricidad_disponible"]:checked').value === 'true',
                    calefaccion_funcionando: document.querySelector('input[name="calefaccion_funcionando"]:checked').value === 'true',
                    
                    // Combustible y suministros
                    combustible_litros: parseFloat(document.getElementById('combustible_litros').value) || 0,
                    combustible_estado: document.getElementById('combustible_estado').value,
                    viveres_estado: document.getElementById('viveres_estado').value,
                    
                    // Novedades y observaciones
                    novedades_importantes: document.getElementById('novedades_importantes').value.trim() || null,
                    problemas_reportados: document.getElementById('problemas_reportados').value.trim() || null,
                    solicitudes_urgentes: document.getElementById('solicitudes_urgentes').value.trim() || null,
                    observaciones: document.getElementById('observaciones').value.trim() || null,
                    
                    // Estado general
                    estado_operativo_general: document.getElementById('estado_operativo_general').value,
                    requiere_atencion_urgente: document.querySelector('input[name="requiere_atencion_urgente"]:checked').value === 'true',
                    
                    // Responsable
                    jefe_email: document.getElementById('jefe_email').value.trim(),
                    jefe_nombre: document.getElementById('jefe_nombre').value.trim()
                };
                
                console.log('üì¶ Datos preparados:', formData);
                
                // Verificar que el cuartel existe
                const { existe, mensaje } = await verificarCuartel(formData.cuartel_codigo);
                if (!existe) {
                    throw new Error(`Error: ${mensaje}`);
                }
                
                // Insertar en Supabase
                const { data, error } = await SICOF_CONFIG.supabase
                    .from('estado_cuarteles')
                    .insert([formData])
                    .select()
                    .single();
                
                if (error) {
                    console.error('‚ùå Error Supabase:', error);
                    
                    if (error.code === '23505') { // Unique violation (fecha + cuartel)
                        throw new Error('Ya existe un reporte para este cuartel en la fecha seleccionada');
                    } else if (error.code === '23503') { // Foreign key violation
                        throw new Error('El cuartel no existe en la base de datos');
                    } else if (error.code === '42501') {
                        throw new Error('Permiso denegado: No tiene permisos para insertar');
                    } else {
                        throw new Error(`Error de base de datos: ${error.message}`);
                    }
                }
                
                if (!data) {
                    throw new Error('No se recibieron datos de confirmaci√≥n');
                }
                
                console.log('‚úÖ Estado guardado exitosamente:', data);
                
                // Mostrar mensaje de √©xito
                document.getElementById('estadoForm').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
                // Limpiar formulario (opcional)
                setTimeout(() => {
                    document.getElementById('estadoForm').reset();
                }, 1000);
                
                // Redirigir despu√©s de 3 segundos
                setTimeout(() => {
                    window.location.href = '../index.html';
                }, 3000);
                
            } catch (error) {
                console.error('üî• Error guardando estado:', error);
                
                // Ocultar loading
                document.getElementById('loadingOverlay').style.display = 'none';
                document.getElementById('btnGuardar').disabled = false;
                
                // Mostrar error
                mostrarMensaje(`‚ùå ERROR: ${error.message}`, 'danger');
                
                // Scroll al mensaje
                document.getElementById('message').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        }
        
        // Funci√≥n para debugging
        window.debugInfo = function() {
            console.log('=== DEBUG ESTADO OPERATIVO ===');
            console.log('Usuario:', userData);
            console.log('Cuarteles disponibles:', cuartelesDisponibles);
            console.log('Config Supabase:', SICOF_CONFIG ? 'Presente' : 'Ausente');
            console.log('============================');
        };
    </script>
</body>
</html>
